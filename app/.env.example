# 博客后端 API 环境变量配置示例
# 复制此文件为 .env 并根据实际情况修改配置值

# ===========================================
# 应用基础配置
# ===========================================

# 运行环境 (development/production)
NODE_ENV=development

# 服务器配置
PORT=9000
HOST=0.0.0.0

# ===========================================
# 数据库配置
# ===========================================

# MySQL 数据库连接信息
DB_HOST=localhost
DB_PORT=3306
DB_USER=your_db_user
DB_PASSWORD=your_db_password
DB_NAME=your_db_name

# 数据库连接池配置
DB_CONNECTION_LIMIT=10
DB_QUEUE_LIMIT=0
DB_ACQUIRE_TIMEOUT=60000
DB_TIMEOUT=60000
DB_RECONNECT=true
DB_CHARSET=utf8mb4

# SQL 文件配置
SQL_DIR=sql
SQL_FILE=blog.sql

# ===========================================
# JWT 认证配置
# ===========================================

# JWT 密钥 (请使用强密码)
JWT_SECRET=your_jwt_secret_key_here
JWT_EXPIRES_IN=7d
JWT_ALGORITHM=HS256

# 认证相关消息配置
AUTH_MISSING_TOKEN_MSG=访问令牌缺失
AUTH_INVALID_TOKEN_MSG=访问令牌无效或已过期
AUTH_LOGIN_REQUIRED_MSG=需要登录
AUTH_ADMIN_REQUIRED_MSG=需要管理员权限

# 管理员角色ID
ADMIN_ROLE=1

# ===========================================
# 文件上传配置
# ===========================================

# 上传目录配置
UPLOAD_PATH=./uploads
MUSIC_DIR=./music
IMAGE_DIR=./image
FILE_DIR=./files

# 静态文件路径配置
STATIC_MUSIC_PATH=/static/music
STATIC_IMAGE_PATH=/static/image
STATIC_FILE_PATH=/static/files

# 文件大小限制 (字节)
MAX_FILE_SIZE=104857600
MAX_MUSIC_FILE_SIZE=52428800
MAX_IMAGE_FILE_SIZE=10485760

# 音乐文件扩展名
MUSIC_EXTENSIONS=.mp3,.wav,.flac,.m4a,.aac

# JSON 和 URL 编码限制
JSON_LIMIT=10mb
URL_ENCODED_LIMIT=10mb

# ===========================================
# 博客站点配置
# ===========================================

# 站点基本信息
SITE_NAME=我的个人博客
SITE_DESCRIPTION=记录生活，分享技术
SITE_KEYWORDS=博客,技术,生活,分享
SITE_AUTHOR=博主姓名
SITE_URL=https://yourdomain.com
APP_VERSION=1.0.0

# ===========================================
# CORS 配置
# ===========================================

# CORS 允许的源 (多个用逗号分隔)
CORS_ORIGIN=http://localhost:3000,http://localhost:5173
CORS_CREDENTIALS=true
CORS_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_ALLOWED_HEADERS=Content-Type,Authorization

# ===========================================
# 管理员账户配置
# ===========================================

# 默认管理员账户信息
ADMIN_USERNAME=admin
ADMIN_PASSWORD=your_admin_password
ADMIN_EMAIL=admin@yourdomain.com
ADMIN_NICKNAME=管理员

# 密码加密轮数
BCRYPT_ROUNDS=12

# ===========================================
# 邮件配置 (可选)
# ===========================================

# SMTP 邮件服务器配置
MAIL_HOST=smtp.example.com
MAIL_PORT=587
MAIL_USER=your_email@example.com
MAIL_PASS=your_email_password
MAIL_FROM=noreply@yourdomain.com

# ===========================================
# 会话配置
# ===========================================

# 会话密钥
SESSION_SECRET=your_session_secret_key

# ===========================================
# 开发工具配置
# ===========================================

# 时区设置
TZ=Asia/Shanghai

# Chrome 浏览器路径 (用于预渲染)
CHROME_BIN=/usr/bin/chromium-browser

# ===========================================
# 配置说明
# ===========================================

# 1. 将此文件复制为 .env
# 2. 根据你的实际环境修改相应的配置值
# 3. 确保数据库连接信息正确
# 4. 设置强密码用于 JWT_SECRET 和管理员账户
# 5. 根据需要调整文件上传大小限制
# 6. 生产环境请使用 HTTPS 协议

# 安全注意事项:
# - JWT_SECRET 应该是一个强随机字符串
# - 数据库密码应该足够复杂
# - 管理员密码应该足够强
# - 生产环境不要使用默认值
# - 定期更换密钥和密码

# Docker 部署说明:
# - 使用 docker-compose up -d 启动服务
# - 数据库数据会持久化到 Docker volume
# - 文件上传目录需要正确映射
# - 确保端口没有冲突